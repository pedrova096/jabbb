export const mockData = [
  // base
  {
    pose: {
      keypoints: [
        {
          y: 79.2993010368539,
          x: 79.45985476681489,
          score: 0.7308001518249512,
          name: 'nose',
        },
        {
          y: 75.94807850468584,
          x: 80.10239783560253,
          score: 0.6849550604820251,
          name: 'left_eye',
        },
        {
          y: 75.0762964560829,
          x: 74.4217708435705,
          score: 0.6590020656585693,
          name: 'right_eye',
        },
        {
          y: 76.90233175317239,
          x: 76.22649748747546,
          score: 0.6551989912986755,
          name: 'left_ear',
        },
        {
          y: 75.74611378052025,
          x: 63.65052989562075,
          score: 0.6777304410934448,
          name: 'right_ear',
        },
        {
          y: 95.71622886781763,
          x: 85.06273648468758,
          score: 0.692364513874054,
          name: 'left_shoulder',
        },
        {
          y: 90.96151664242302,
          x: 45.57727756767556,
          score: 0.7045434713363647,
          name: 'right_shoulder',
        },
        {
          y: 117.10692091593461,
          x: 98.35451131188664,
          score: 0.8711943030357361,
          name: 'left_elbow',
        },
        {
          y: 114.5032108932986,
          x: 49.87671691151124,
          score: 0.5632807016372681,
          name: 'right_elbow',
        },
        {
          y: 97.36574428054617,
          x: 98.23538429231746,
          score: 0.7395536303520203,
          name: 'left_wrist',
        },
        {
          y: 92.4246366414934,
          x: 66.66422415327627,
          score: 0.6982176303863525,
          name: 'right_wrist',
        },
        {
          y: 141.1698752057154,
          x: 81.44928440549957,
          score: 0.8058123588562012,
          name: 'left_hip',
        },
        {
          y: 142.16696513419103,
          x: 58.27343014641983,
          score: 0.8499467968940735,
          name: 'right_hip',
        },
        {
          y: 177.5742805247049,
          x: 89.97926780735618,
          score: 0.8498823046684265,
          name: 'left_knee',
        },
        {
          y: 180.30458393601984,
          x: 54.85990363212593,
          score: 0.8576900959014893,
          name: 'right_knee',
        },
        {
          y: 217.59810118177492,
          x: 96.07684184365658,
          score: 0.7407357096672058,
          name: 'left_ankle',
        },
        {
          y: 211.0029476776564,
          x: 51.02816434320238,
          score: 0.9268845319747925,
          name: 'right_ankle',
        },
      ],
      score: 0.7475172211142147,
    },
    isBackCamera: false,
    isPortrait: true,
    capturedAt: '2023-12-20T12:51:47.135Z',
  },
  {
    pose: {
      keypoints: [
        {
          y: 86.41632143191089,
          x: 56.92358577151001,
          score: 0.8229342103004456,
          name: 'nose',
        },
        {
          y: 83.8595228650089,
          x: 56.756568454956536,
          score: 0.7946161031723022,
          name: 'left_eye',
        },
        {
          y: 83.17871457147179,
          x: 52.3321445774316,
          score: 0.6944989562034607,
          name: 'right_eye',
        },
        {
          y: 86.46495923751827,
          x: 53.34499552087724,
          score: 0.7695712447166443,
          name: 'left_ear',
        },
        {
          y: 85.81757226912552,
          x: 43.10326243566218,
          score: 0.6580134034156799,
          name: 'right_ear',
        },
        {
          y: 101.90309021047592,
          x: 63.949729097205804,
          score: 0.8452091813087463,
          name: 'left_shoulder',
        },
        {
          y: 99.5416298000169,
          x: 28.289047942952365,
          score: 0.7949652671813965,
          name: 'right_shoulder',
        },
        {
          y: 119.05486531896777,
          x: 75.81697777766803,
          score: 0.8539561629295349,
          name: 'left_elbow',
        },
        {
          y: 119.52537739005153,
          x: 27.64460444855472,
          score: 0.8004346489906311,
          name: 'right_elbow',
        },
        {
          y: 102.09690418723903,
          x: 74.54485100503626,
          score: 0.5267142653465271,
          name: 'left_wrist',
        },
        {
          y: 103.16092918512354,
          x: 45.140316010988755,
          score: 0.8203288912773132,
          name: 'right_wrist',
        },
        {
          y: 141.01685194836864,
          x: 58.57950071595601,
          score: 0.8493634462356567,
          name: 'left_hip',
        },
        {
          y: 142.2877677947084,
          x: 39.047873164468015,
          score: 0.8638527393341064,
          name: 'right_hip',
        },
        {
          y: 168.86346875048767,
          x: 71.00596613935485,
          score: 0.7555614709854126,
          name: 'left_knee',
        },
        {
          y: 175.31723905527068,
          x: 38.335299902682266,
          score: 0.7910952568054199,
          name: 'right_knee',
        },
        {
          y: 202.9766082765954,
          x: 74.05427260315876,
          score: 0.8105934262275696,
          name: 'left_ankle',
        },
        {
          y: 197.13751422276198,
          x: 37.39060038019544,
          score: 0.9376442432403564,
          name: 'right_ankle',
        },
      ],
      score: 0.7876089951571297,
    },
    isBackCamera: false,
    isPortrait: true,
    capturedAt: '2023-12-20T12:52:05.784Z',
  },
  {
    pose: {
      keypoints: [
        {
          y: 75.67735402160274,
          x: 107.22114867661507,
          score: 0.6673589944839478,
          name: 'nose',
        },
        {
          y: 71.7267992487763,
          x: 108.1933984036765,
          score: 0.6782597899436951,
          name: 'left_eye',
        },
        {
          y: 69.78213023593892,
          x: 103.295401179226,
          score: 0.8273338079452515,
          name: 'right_eye',
        },
        {
          y: 72.32790202381744,
          x: 102.61669345103381,
          score: 0.7434797883033752,
          name: 'left_ear',
        },
        {
          y: 68.48285301701931,
          x: 90.46229217466716,
          score: 0.795418381690979,
          name: 'right_ear',
        },
        {
          y: 91.4629295897182,
          x: 110.07028007358535,
          score: 0.7716801762580872,
          name: 'left_shoulder',
        },
        {
          y: 88.40233212749601,
          x: 68.5943066195482,
          score: 0.8638089299201965,
          name: 'right_shoulder',
        },
        {
          y: 114.07605888554923,
          x: 125.03176249409198,
          score: 0.9163044691085815,
          name: 'left_elbow',
        },
        {
          y: 113.58771730701037,
          x: 80.40351991818008,
          score: 0.6851471066474915,
          name: 'right_elbow',
        },
        {
          y: 92.53068302191832,
          x: 125.63980004030154,
          score: 0.712159276008606,
          name: 'left_wrist',
        },
        {
          y: 87.13530787974194,
          x: 94.91436822766416,
          score: 0.6112990975379944,
          name: 'right_wrist',
        },
        {
          y: 141.08667813644786,
          x: 108.5408523073892,
          score: 0.7505648136138916,
          name: 'left_hip',
        },
        {
          y: 142.37406452704974,
          x: 84.39818896258718,
          score: 0.8407231569290161,
          name: 'right_hip',
        },
        {
          y: 177.46369735484475,
          x: 123.98669084112187,
          score: 0.5999323725700378,
          name: 'left_knee',
        },
        {
          y: 186.1422051770537,
          x: 83.8681181251222,
          score: 0.8829712271690369,
          name: 'right_knee',
        },
        {
          y: 223.05041527123166,
          x: 124.62812880840104,
          score: 0.7603542804718018,
          name: 'left_ankle',
        },
        {
          y: 224.34430659830696,
          x: 73.12085604281367,
          score: 0.9226810336112976,
          name: 'right_ankle',
        },
      ],
      score: 0.7664398060125464,
    },
    isBackCamera: false,
    isPortrait: true,
    capturedAt: '2023-12-20T12:52:24.284Z',
  },
  {
    pose: {
      keypoints: [
        {
          y: 76.06413713503177,
          x: 83.77647423696834,
          score: 0.704252302646637,
          name: 'nose',
        },
        {
          y: 73.60050498581747,
          x: 83.89297571289093,
          score: 0.7334200739860535,
          name: 'left_eye',
        },
        {
          y: 70.28315971201981,
          x: 81.30685582117225,
          score: 0.6762601733207703,
          name: 'right_eye',
        },
        {
          y: 72.67518944596449,
          x: 76.23550197646733,
          score: 0.6095550060272217,
          name: 'left_ear',
        },
        {
          y: 66.79644013405843,
          x: 68.71489546884384,
          score: 0.8042237162590027,
          name: 'right_ear',
        },
        {
          y: 89.82726016125115,
          x: 79.74079311453603,
          score: 0.799519419670105,
          name: 'left_shoulder',
        },
        {
          y: 85.3192775020243,
          x: 42.883256016284825,
          score: 0.7891553640365601,
          name: 'right_shoulder',
        },
        {
          y: 113.71401351527219,
          x: 99.92728817345831,
          score: 0.884908139705658,
          name: 'left_elbow',
        },
        {
          y: 110.03020763079029,
          x: 62.8415725803723,
          score: 0.763944685459137,
          name: 'right_elbow',
        },
        {
          y: 92.14563841801396,
          x: 93.34923834895658,
          score: 0.6954649686813354,
          name: 'left_wrist',
        },
        {
          y: 87.19091937785518,
          x: 79.0010693130205,
          score: 0.5010427832603455,
          name: 'right_wrist',
        },
        {
          y: 140.8964361946787,
          x: 79.69810349333261,
          score: 0.8539966344833374,
          name: 'left_hip',
        },
        {
          y: 141.99515266724256,
          x: 57.72764547773687,
          score: 0.8702390193939209,
          name: 'right_hip',
        },
        {
          y: 179.76750616553196,
          x: 95.08206547894709,
          score: 0.6421854496002197,
          name: 'left_knee',
        },
        {
          y: 189.73768313158237,
          x: 59.621356997533624,
          score: 0.7807636857032776,
          name: 'right_knee',
        },
        {
          y: 223.21366387637772,
          x: 96.84521979671074,
          score: 0.7849534153938293,
          name: 'left_ankle',
        },
        {
          y: 230.48330504765687,
          x: 48.52681900401744,
          score: 0.9007545113563538,
          name: 'right_ankle',
        },
      ],
      score: 0.7526258440578685,
    },
    isBackCamera: false,
    isPortrait: true,
    capturedAt: '2023-12-20T12:52:40.956Z',
  },
  // punch
  {
    pose: {
      keypoints: [
        {
          y: 82.43370825624821,
          x: 58.83080467076338,
          score: 0.8208673000335693,
          name: 'nose',
        },
        {
          y: 78.92502099260196,
          x: 58.77817320088706,
          score: 0.8526535630226135,
          name: 'left_eye',
        },
        {
          y: 78.64892467675023,
          x: 54.449076968038135,
          score: 0.8238362669944763,
          name: 'right_eye',
        },
        {
          y: 80.63472407856753,
          x: 56.11825935809462,
          score: 0.5661681890487671,
          name: 'left_ear',
        },
        {
          y: 80.408748553235,
          x: 43.57203960778672,
          score: 0.7045062780380249,
          name: 'right_ear',
        },
        {
          y: 96.25097967009837,
          x: 67.50884665010115,
          score: 0.8721937537193298,
          name: 'left_shoulder',
        },
        {
          y: 97.36103690779136,
          x: 26.01941731105481,
          score: 0.7764517664909363,
          name: 'right_shoulder',
        },
        {
          y: 97.52953967632784,
          x: 90.85751435941819,
          score: 0.7159470319747925,
          name: 'left_elbow',
        },
        {
          y: 111.99727763204561,
          x: 37.628751557842605,
          score: 0.7078230381011963,
          name: 'right_elbow',
        },
        {
          y: 93.66827127215483,
          x: 115.56328720070437,
          score: 0.9106460213661194,
          name: 'left_wrist',
        },
        {
          y: 92.4734382104059,
          x: 49.33045732756217,
          score: 0.6542328596115112,
          name: 'right_wrist',
        },
        {
          y: 141.81230267078703,
          x: 65.2522230643072,
          score: 0.900912880897522,
          name: 'left_hip',
        },
        {
          y: 143.70191719052917,
          x: 40.86720723101454,
          score: 0.8306430578231812,
          name: 'right_hip',
        },
        {
          y: 177.6985329399738,
          x: 78.00501900041154,
          score: 0.8836864829063416,
          name: 'left_knee',
        },
        {
          y: 180.42290814918562,
          x: 34.50941125520392,
          score: 0.8913673162460327,
          name: 'right_knee',
        },
        {
          y: 214.8798667245952,
          x: 88.48848996357886,
          score: 0.8553739786148071,
          name: 'left_ankle',
        },
        {
          y: 208.14498550465186,
          x: 30.287116129750636,
          score: 0.8371660113334656,
          name: 'right_ankle',
        },
      ],
      score: 0.8002632821307463,
    },
    isBackCamera: false,
    isPortrait: true,
    capturedAt: '2023-12-20T12:53:21.805Z',
  },
  {
    pose: {
      keypoints: [
        {
          y: 79.167987024584,
          x: 88.42173809055544,
          score: 0.7654646635055542,
          name: 'nose',
        },
        {
          y: 75.2071845523961,
          x: 88.80910332980457,
          score: 0.8020387887954712,
          name: 'left_eye',
        },
        {
          y: 74.87745620357154,
          x: 83.1918392312297,
          score: 0.7733243703842163,
          name: 'right_eye',
        },
        {
          y: 77.16850637607207,
          x: 86.75173103217801,
          score: 0.6342940330505371,
          name: 'left_ear',
        },
        {
          y: 77.52101920598575,
          x: 71.89056623876095,
          score: 0.6872051954269409,
          name: 'right_ear',
        },
        {
          y: 94.56197871661485,
          x: 98.04762716152085,
          score: 0.9116874933242798,
          name: 'left_shoulder',
        },
        {
          y: 96.87665660831799,
          x: 53.453643940128124,
          score: 0.777336597442627,
          name: 'right_shoulder',
        },
        {
          y: 96.26221578388152,
          x: 126.4574892296719,
          score: 0.9208565354347229,
          name: 'left_elbow',
        },
        {
          y: 113.6689336138865,
          x: 67.85562081214968,
          score: 0.6373189687728882,
          name: 'right_elbow',
        },
        {
          y: 95.13253450680685,
          x: 158.20669532421334,
          score: 0.822756826877594,
          name: 'left_wrist',
        },
        {
          y: 91.29066834013875,
          x: 78.29943885939811,
          score: 0.7315931916236877,
          name: 'right_wrist',
        },
        {
          y: 146.2842229679503,
          x: 94.68920062251523,
          score: 0.9004640579223633,
          name: 'left_hip',
        },
        {
          y: 148.2211369040732,
          x: 70.26235929294945,
          score: 0.8178845047950745,
          name: 'right_hip',
        },
        {
          y: 181.04956625483385,
          x: 117.91588328708943,
          score: 0.8571180105209351,
          name: 'left_knee',
        },
        {
          y: 186.96360595150307,
          x: 65.62735111161699,
          score: 0.8901318311691284,
          name: 'right_knee',
        },
        {
          y: 221.38187597919608,
          x: 126.29063020951415,
          score: 0.8506052494049072,
          name: 'left_ankle',
        },
        {
          y: 214.90113336322423,
          x: 55.866382240224844,
          score: 0.9563769698143005,
          name: 'right_ankle',
        },
      ],
      score: 0.8080268993097193,
    },
    isBackCamera: false,
    isPortrait: true,
    capturedAt: '2023-12-20T12:53:32.793Z',
  },
  {
    pose: {
      keypoints: [
        {
          y: 94.11175983239069,
          x: 42.84893003572728,
          score: 0.7053358554840088,
          name: 'nose',
        },
        {
          y: 91.57016580497903,
          x: 43.64406418729691,
          score: 0.8219290375709534,
          name: 'left_eye',
        },
        {
          y: 91.33213033559005,
          x: 39.614024649796754,
          score: 0.710425615310669,
          name: 'right_eye',
        },
        {
          y: 93.53811440563273,
          x: 42.68553890575917,
          score: 0.6554373502731323,
          name: 'left_ear',
        },
        {
          y: 93.19444479215416,
          x: 32.409216452020424,
          score: 0.7247240543365479,
          name: 'right_ear',
        },
        {
          y: 104.29001457558,
          x: 49.80911683645145,
          score: 0.8946194052696228,
          name: 'left_shoulder',
        },
        {
          y: 104.91844229705444,
          x: 20.576004467759958,
          score: 0.827530026435852,
          name: 'right_shoulder',
        },
        {
          y: 105.78750458752103,
          x: 65.31370570358278,
          score: 0.8204598426818848,
          name: 'left_elbow',
        },
        {
          y: 117.11592905420497,
          x: 31.035077472878925,
          score: 0.800774872303009,
          name: 'right_elbow',
        },
        {
          y: 104.54619694776892,
          x: 85.20280348795725,
          score: 0.8272765278816223,
          name: 'left_wrist',
        },
        {
          y: 102.19771853011359,
          x: 38.04169868177089,
          score: 0.6729989051818848,
          name: 'right_wrist',
        },
        {
          y: 137.1034164684471,
          x: 45.34443643187938,
          score: 0.887187123298645,
          name: 'left_hip',
        },
        {
          y: 138.0057637112829,
          x: 29.357332469970085,
          score: 0.8857889175415039,
          name: 'right_hip',
        },
        {
          y: 159.69830709778202,
          x: 56.88224195814486,
          score: 0.7493260502815247,
          name: 'left_knee',
        },
        {
          y: 164.10249944411257,
          x: 27.005183404873705,
          score: 0.8585695028305054,
          name: 'right_knee',
        },
        {
          y: 185.7482519696248,
          x: 59.956512120301504,
          score: 0.918016791343689,
          name: 'left_ankle',
        },
        {
          y: 184.83074110884618,
          x: 23.769743635189755,
          score: 0.7283753156661987,
          name: 'right_ankle',
        },
      ],
      score: 0.7934573643347796,
    },
    isBackCamera: false,
    isPortrait: true,
    capturedAt: '2023-12-20T12:53:43.803Z',
  },
  {
    pose: {
      keypoints: [
        {
          y: 81.92021210709464,
          x: 86.05304437850918,
          score: 0.6995139122009277,
          name: 'nose',
        },
        {
          y: 78.45601737070722,
          x: 87.13915808590734,
          score: 0.7917670607566833,
          name: 'left_eye',
        },
        {
          y: 77.89940526971486,
          x: 81.60396593292172,
          score: 0.6716320514678955,
          name: 'right_eye',
        },
        {
          y: 80.10956587468625,
          x: 83.2802126067609,
          score: 0.729279637336731,
          name: 'left_ear',
        },
        {
          y: 78.84545969647509,
          x: 70.05437332633389,
          score: 0.8385980725288391,
          name: 'right_ear',
        },
        {
          y: 96.38342512177009,
          x: 93.30599751091674,
          score: 0.8839112520217896,
          name: 'left_shoulder',
        },
        {
          y: 97.70306071207301,
          x: 50.58226064826386,
          score: 0.8165401816368103,
          name: 'right_shoulder',
        },
        {
          y: 99.49018051579228,
          x: 121.91250978535838,
          score: 0.9397468566894531,
          name: 'left_elbow',
        },
        {
          y: 115.71638499913564,
          x: 63.83724704215619,
          score: 0.6713317632675171,
          name: 'right_elbow',
        },
        {
          y: 91.88059532200936,
          x: 148.9906972409122,
          score: 0.6457148194313049,
          name: 'left_wrist',
        },
        {
          y: 92.20110220775656,
          x: 75.1207245255185,
          score: 0.7768957614898682,
          name: 'right_wrist',
        },
        {
          y: 143.59056962727428,
          x: 91.79448181759807,
          score: 0.9250302314758301,
          name: 'left_hip',
        },
        {
          y: 145.21655562164258,
          x: 66.48442564587327,
          score: 0.8814489841461182,
          name: 'right_hip',
        },
        {
          y: 182.0262893217819,
          x: 108.77119719925359,
          score: 0.7791405320167542,
          name: 'left_knee',
        },
        {
          y: 183.7401236186704,
          x: 60.185491360463594,
          score: 0.8847846388816833,
          name: 'right_knee',
        },
        {
          y: 222.47638661333372,
          x: 123.61445894851862,
          score: 0.9016205072402954,
          name: 'left_ankle',
        },
        {
          y: 213.10103449142386,
          x: 52.374309918607096,
          score: 0.9553200602531433,
          name: 'right_ankle',
        },
      ],
      score: 0.8113103719318614,
    },
    isBackCamera: false,
    isPortrait: true,
    capturedAt: '2023-12-20T12:54:04.111Z',
  },
];

let base = [0, 3] as const;
let punch = [4, 7] as const;

function averageKeypointsByName(
  start: number,
  end: number
): (typeof mockData)[number] {
  const keypoints = mockData
    .slice(start, end)
    .flatMap((data) => data.pose.keypoints);

  const averageKeypoints = keypoints.reduce((acc, cur) => {
    const keypoint = acc.get(cur.name);

    if (keypoint) {
      keypoint.x += cur.x;
      keypoint.y += cur.y;
      keypoint.score += cur.score;
      keypoint.total += 1;
    } else {
      acc.set(cur.name, { ...cur, total: 1 });
    }

    return acc;
  }, new Map<string, (typeof keypoints)[number] & { total: number }>());

  return {
    pose: {
      keypoints: Array.from(averageKeypoints.values()).map((keypoint) => ({
        x: keypoint.x / keypoint.total,
        y: keypoint.y / keypoint.total,
        score: keypoint.score / keypoint.total,
        name: keypoint.name,
      })),
      score: 0.8,
    },
    isBackCamera: false,
    isPortrait: true,
    capturedAt: '2023-12-20T12:54:04.111Z',
  };
}

//console.log(JSON.stringify(averageKeypointsByName(...base), null, 2));
console.log(JSON.stringify(averageKeypointsByName(...punch), null, 2));
